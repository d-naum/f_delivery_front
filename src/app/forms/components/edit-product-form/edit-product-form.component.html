<div class="heading-wrapper" fxLayoutAlign="space-between center">
    <div class="heading">
        <h2>Edit Product</h2>
    </div>
    <div class="">
        <a routerLink="/products" mat-raised-button color="primary">
            All Products
        </a>
    </div>
</div>
<hr>
<div class="main-container" fxLayoutAlign="center">
    <div class="add-product-form" fxLayout="column" fxFlex="45">
        <div class="form-wrapper" fxFlex="100">
            <h4>Product Details</h4>
            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Product Title</mat-label>
                <input matInput required [formControl]="title">
                <mat-error *ngIf="title.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Description</mat-label>
                <textarea matInput required [formControl]="description"></textarea>
                <mat-error *ngIf="description.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

            <div class="half-field-wrapper">
                <mat-form-field appearance="fill" floatLabel="always" class="half-width">
                    <mat-label>Price</mat-label>
                    <input matInput required [formControl]="price" type="number" class="example-right-align"
                        placeholder="0">
                    <span matPrefix>$&nbsp;</span>
                    <span matSuffix>.00</span>
                    <mat-error *ngIf="price.invalid">{{getErrorMessage()}}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill" class="half-width">
                    <mat-label>Category</mat-label>
                    <mat-select [formControl]="category">
                        <mat-option *ngFor="let category of categories" [value]="category.id">
                            {{category.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="half-field-wrapper" *ngIf="!authUser.isCompany">
                <mat-form-field appearance="fill" class="half-width">
                    <mat-label>Company</mat-label>
                    <mat-select [formControl]="company">
                        <mat-option *ngFor="let company of companies" [value]="company.id">
                            {{company.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <mat-slide-toggle [formControl]="outOfStock">
                Out of Stock
            </mat-slide-toggle>
        </div>
        <div mat-dialog-footer fxLayoutAlign="end end">
            <button (click)="updateProduct()" mat-raised-button color="primary">
                Update Product
            </button>
        </div>
    </div>
</div>